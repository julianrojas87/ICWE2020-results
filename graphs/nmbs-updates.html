<html>

<head>
    <script src='https://cdn.plot.ly/plotly-latest.min.js'></script>
    <script type="text/javascript">
        var x_day = [
            '2019-11-01', '2019-11-02', '2019-11-03',
            '2019-11-04', '2019-11-05', '2019-11-06',
            '2019-11-07', '2019-11-08', '2019-11-09',
            '2019-11-10', '2019-11-11', '2019-11-12',
            '2019-11-13', '2019-11-14', '2019-11-15',
            '2019-11-16', '2019-11-17', '2019-11-18',
            '2019-11-19', '2019-11-20', '2019-11-21',
            '2019-11-22', '2019-11-23', '2019-11-24',
            '2019-11-25', '2019-11-26', '2019-11-27',
            '2019-11-28', '2019-11-29', '2019-11-30'
        ];
        var y_day = [
            6577350, 6419225, 6433973,
            6789032, 6310860, 12131251,
            12947583, 12995122, 6102924,
            6260293, 6516107, 12850331,
            12581246, 6880023, 11982821,
            5406930, 5124432, 12690805,
            12574599, 12710000, 12491911,
            12446943, 4496884, 4353849,
            12351853, 11607204, 12145282,
            13634618, 13500830, 5877447
        ];

        var x_hour = [
            "2019-11-28T00", "2019-11-28T01", "2019-11-28T04", "2019-11-28T05", "2019-11-28T06", "2019-11-28T03",
            "2019-11-28T07", "2019-11-28T08", "2019-11-28T09", "2019-11-28T10", "2019-11-28T11", "2019-11-28T12",
            "2019-11-28T13", "2019-11-28T14", "2019-11-28T15", "2019-11-28T16", "2019-11-28T17", "2019-11-28T18",
            "2019-11-28T19", "2019-11-28T20", "2019-11-28T21", "2019-11-28T22", "2019-11-28T23", "2019-11-29T00"
        ];

        var y_hour = [
            25663, 2936, 93678, 361978, 737895, 3066, 
            952466, 850577, 783117, 737055, 699694, 724897, 
            734282, 749666, 796141, 895839, 956202, 858752, 
            742793, 692236, 595829, 446511, 193345, 35200
        ];

        var dailyGraph = {
            x: x_day,
            y: y_day,
            type: 'bar'
        };

        var hourlyGraph = {
            x: x_hour,
            y: y_hour,
            type: 'bar'
        };

        var layout_a = {
            xaxis: {
                title: '(a)',
                titlefont:{
                    size: 20
                },
                tickfont: {
                    size: 18
                }
            },
            yaxis: {
                title: 'Updated Connections',
                titlefont:{
                    size: 17
                },
                tickfont: {
                    size: 18
                }
            }
        };

        var layout_b = {
            xaxis: {
                title: '(b)',
                titlefont:{
                    size: 20
                },
                tickfont: {
                    size: 18
                }
            },
            yaxis: {
                title: 'Updated Connections',
                titlefont:{
                    size: 17
                },
                tickfont: {
                    size: 18
                }
            }
        };
    </script>
</head>

<body>
    <div id="daily_view"></div>
    <div id="hourly_view"></div>
    <img id="export-daily"></img>
    <img id="export-hourly"></img>
    <script type="text/javascript">
        var d3 = Plotly.d3;
        var daily_svg = d3.select('#export-daily');
        var hourly_svg = d3.select('#export-hourly');

        Plotly.newPlot('daily_view', [dailyGraph], layout_a).then(function (gd) {
            Plotly.toImage(gd, { format: 'svg', height: 450, width: 700 }).then(function (url) {
                daily_svg.attr("src", url);
            });
        });
        Plotly.newPlot('hourly_view', [ hourlyGraph ], layout_b).then(function (gd) {
            Plotly.toImage(gd, { format: 'svg', height: 450, width: 700 }).then(function (url) {
                hourly_svg.attr("src", url);
            });
        });
    </script>
</body>

</html>